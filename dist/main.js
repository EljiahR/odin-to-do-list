(()=>{"use strict";function t(t,e,...n){return new class{constructor(t,e,...n){this.title=t,this.description=e,this.list=[...n]}addTask(...t){this.list=[...this.list,...t]}}(t,e,...n)}function e(t,e,n,d){return new class{constructor(t,e,n,d){this.title=t,this.description=e,this.dueDate=n,this.priority=d}setTitle(t){this.title=t}setDescription(t){this.description=t}setDueDate(t){this.dueDate=t}setPriority(t){this.priority=t}}(t,e,n,d)}function n(t){t.forEach(((t,e)=>{if(!document.querySelector(`.project[data-pid='${e}']`)){const n=document.createElement("li");n.classList.add("project"),n.innerText=t.title,n.dataset.pid=e,document.querySelector("#projects").appendChild(n)}}))}function d(t,e,n="All projects",d=""){document.getElementById("project-title").innerText=n,document.getElementById("project-title").dataset.pid=d;const o=document.getElementById("content");o.innerHTML="",t.forEach((t=>{const n=document.createElement("div");n.classList.add("task"),n.dataset.tid=e.indexOf(t);const d=document.createElement("h2");d.innerText=t.title;const i=document.createElement("p");i.innerText=`Due: ${t.dueDate}`,n.append(d,i),o.appendChild(n)}));const i=document.createElement("button");i.id="new-task-button",o.appendChild(i)}function o(){const t=document.getElementById("project-menu-overlay");t.classList.contains("hidden")?t.classList.remove("hidden"):t.classList.add("hidden")}function i(){const t=document.getElementById("content");if(document.getElementById("new-task-button")){document.getElementById("new-task-button").remove();const e=document.createElement("div");e.classList.add("task"),e.id="new-task-form-div";const n=document.createElement("form");n.id="new-task-form";const d=document.createElement("label");d.innerText="Title: ",d.setAttribute("for","new-task-title");const o=document.createElement("input");o.type="text",o.id="new-task-title",o.setAttribute("required","");const i=document.createElement("button");i.type="submit",i.value="Submit",i.innerText="Submit",i.id="task-form-submit",n.append(d,o,i),e.appendChild(n),t.appendChild(e)}else{document.getElementById("new-task-form-div").remove();const e=document.createElement("button");e.id="new-task-button",t.appendChild(e)}}const s=[],c=[];function a(){document.getElementById("new-task-button").addEventListener("click",(t=>{t.preventDefault(),i(),document.getElementById("new-task-form-div")&&document.getElementById("new-task-form").addEventListener("submit",(t=>{t.preventDefault(),function(){const t=document.querySelector("#new-task-title").value,n=c.push(e(t,"","",""))-1,o=document.getElementById("project-title").dataset.pid;""!==o?(s[o].addTask(c[n]),d(s[o].list,c,s[o].title,o)):d(c,c)}()}))}))}s.push(t("Home","home projects")),s.push(t("Odin","odin projects")),c.push(e("To-Do Project","complete this project","date","priorty")),c.push(e("Floors","lay down new floors","date","priorty")),c.push(e("Paint","paint the walls","date","priorty")),c.push(e("Kitchen","clean kitchen","date","priorty")),c.push(e("Trash","take out trash","date","priorty")),s[0].addTask(c[1],c[2],c[3],c[4]),s[1].addTask(c[0]),document.getElementById("add-project").addEventListener("click",(t=>{t.preventDefault(),o()})),document.getElementById("project-menu-overlay").addEventListener("click",(t=>{"project-menu-overlay"===t.target.id&&o()})),document.getElementById("project-form").addEventListener("submit",(e=>{e.preventDefault(),function(){const e=document.querySelector("#project-name").value,i=s.push(t(e,""))-1;n(s),o(),document.getElementById("project-form").reset(),console.log("tasks"),d(s[i].list,c,s[i].title,i),a()}()})),document.querySelector("#projects").addEventListener("click",(t=>{t.target.dataset.pid?d(s[t.target.dataset.pid].list,c,s[t.target.dataset.pid].title,t.target.dataset.pid):d(c,c),a()})),document.getElementById("content").addEventListener("click",(t=>{"content"===t.target.id&&document.getElementById("new-task-form-div")&&(i(),a())})),n(s),d(c,c),a()})();